<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-US">
  <head>
	<title>GDN - Tutorials</title>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta name="title" content="Tutorials"/>
	<meta name="description" content="Tutorial 7 – Audio"/>
    <link rel="stylesheet" type="text/css" href="./style.css" media="screen, tv, projection, print" title="Default" />
  </head>
  <body>
    <!-- ##### Header ##### -->

    <div id="header">
      <div class="superHeader">
        <span>&nbsp;</span>
      </div>

      <div class="midHeader">
        <h1 class="headerTitle" lang="la">GDN</h1>
        <div class="headerSubTitle" title="'GIANTS Developer Network'">
          { GIANTS Developer Network }
        </div>


        <br class="doNotDisplay doNotPrint" />

		<form action="search.html" method="get">
        <div class="headerLinks">
        	<span><input style="border:1px solid #999999; color: #666666; width:148px; font-size: 8pt;" type="text" name="search" title="Text input: query" size="24" /></span>
			<span><input style="border:1px solid #FFFFFF; background: rgb(61,92,122); color: #FFFFFF; font-size: 9pt; font-weight:bold;" type="submit" value="Search" /></span>
        </div>
        </form>
      </div>

	  <div class="subHeader">

		<div class="subHeader-left">
			&nbsp;&nbsp;
			<a href="index.html" title="GDN - Home">Home</a> |
            <a href="license.html" title="GDN - Store">Store</a> |			
			<a href="documentation.html" title="GDN - Documentation">Documentation</a> |
			<a href="forum.html" title="GDN - Tutorials">Forum</a> |
			<a href="downloads.html" title="GDN - Downloads">Downloads</a>
        </div>

		<div class="subHeader-right">
					</div>
	  </div>

	</div>

    <!-- ##### Main Copy ##### -->

    <div id="main-copy">
      <div class="rowOfBoxes">
        <div class="twoThirds noBorderOnLeft">


<a name="tutorial07"><h1 style="page-break-before: always;">Tutorial 7 - Audio</h1></a>
<br>
<b>Sample name:</b> SampleAudio<br>
<b>Script source code file:</b> <i>sample/audio/main.lua</i><br>
<br>
<b>The goal of this tutorial is to show you</b><br>
<ul>
    <li>how to use audio samples</li>
    <li>the difference between 2d and 3d sounds</li>
</ul>
<b>New functions in this tutorial</b><br />
<br />
<i>createSample()</i><br />
<i>loadSample()</i><br />
<i>playSample()</i><br />
<br />
Run sampleAudio.exe. Every two seconds you should hear a "pling" and if you 
press space you should hear a water splash.<br />
<br />
Open main.lua which is in /sample/audio to see the code of this example.<br />
<br />
First there are three variables: time, sample1Id and sample2Id<br />
<br />
<h2>init()</h2>
<br />
The first line creates a sample using the createSample function and stores the 
id in the variable sample1Id. The only argument here is the name of the 
sample.<br />
<br />
&nbsp;<i>sample1Id = createSample("sample1");</i><br />
<br />
The sample is like an empty shell which needs filling with an audio file. 
That’s what the second line does. It needs the id of the sample and the 
filename as arguments. The last argument is a boolean and defines whether 
your sound is 3D or not.<br />
<br />
3D sounds can be placed in your scene. They are surrounded by a sphere which 
defines the distance over which the sound can be heard. The closer you get to 
the sound the louder it is.<br />
<br />
A 2D sound simply plays at full volume when it is triggered.<br />
<br />
For the filename you need to indicate the relative path.<br />
<br />
&nbsp;<i>loadSample(sample1Id, "sample/audio/sample1.wav", false);</i><br />
<br />
<h2>keyEvent()</h2>
<br />
If you press the space key, the sample2 is played via the playSample function. 
Here is how this function is described in the documentation:<br />
<br />
<span style="color:blue;">
<h3>playSample</h3>
<b>Description</b><br />
<blockquote>Play sample object</blockquote>
<br />
<b>Definition</b><br />
<blockquote><i>function playSample(integer objectId, integer loops, float volume, float offset)</i></blockquote>
<br />
<b>Arguments</b><br />
<blockquote><table cellpadding="3" border="1" style="border-collapse:collapse">
<tr><td><i>integer</i></td><td><i>objectId</i></td><td>id of sample object</td></tr>
<tr><td><i>integer</i></td><td><i>loops</i></td><td>number of loops [0,n] 0 = endless looping</td></tr>
<tr><td><i>float</i></td><td><i>volume</i></td><td>volume [0,1]</td></tr>
<tr><td><i>float</i></td><td><i>offset</i></td><td>offset in milliseconds</td></tr>
</table></blockquote>
</span>
<br />
The offset defines from which position within the sample it starts playing. 
E.g. if you define an offset of 3000, the first three seconds of your sample 
are cut off the first time the sample gets played.<br />
<br />
<table><tbody><tr><td>
<div id="code">
if sym == Input.KEY_space then<br />
&nbsp;&nbsp;playSample(sample2Id, 1, 1, 0);<br />
end;<br />
</div>
</td></tr></tbody></table>
<br />
<h2>update()</h2>
<br />
First the time is increased and if it is larger than 2000 milliseconds the 
sample1 is played and the time is reset to 0.<br />
<br />
<table><tbody><tr><td>
<div id="code">
function update(dt)<br />
<br />
&nbsp;&nbsp;time = time + dt;<br />
<br />    
&nbsp;&nbsp;if time > 2000 then<br />
&nbsp;&nbsp;&nbsp;&nbsp;playSample(sample1Id, 1, 1, 0);<br />
&nbsp;&nbsp;&nbsp;&nbsp;time = 0;<br />
&nbsp;&nbsp;end;<br />
end;<br />
</div>
</td></tr></tbody></table>
<br />










</div>
<div class="oneThird">
	
    <span class="newsHeading">Latest Versions</span>
	<p class="newsDate">18 June 2009</p>
	<p class="newsSummary">
	GIANTS SDK v4.1.3<br />
	GIANTS Editor v4.1.4<br />
	GIANTS Script Debugger v4.1.3<br />
	</p>

    <span class="newsHeading">Latest Public Versions</span>
	<p class="newsDate">30 December 2009</p>
	<p class="newsSummary">
	GIANTS Editor v4.1.2<br />
	Maya Exporter Plugins v4.1.5<br />
	3Ds MAX Exporter Plugins v4.1.5<br />
	Blender Exporter Plugins v4.1.5
	</p>
	
    <p class="more"><a href="downloads.html">» More</a></p>
   


	<form method="post" action="?r=774647002">
	<input type="hidden" name="greenstoneX" value="1" />

	<span class="newsHeading">Login <img border="0" src="images/misc/login.png" alt="Login" /></span>
    <div class="newsSummary">
                <div style="font-size: 9pt; padding-bottom:5px;">User name</div>
        <input style="border:1px solid #999999; color: #666666; width:256px; font-size: 9pt;" type="text" size="35" name="redstoneX" /><br />
        <br />
        <div style="font-size: 9pt; padding-bottom:5px;">Password</div>
        <input style="border:1px solid #999999; color: #666666; width:256px; font-size: 9pt;" type="password" size="35" name="bluestoneX" /><br />
        <br />
        <input style="border:1px solid black; background: silver; color: black; font-size: 9pt; font-weight:bold;" type="submit" name="foobarX" value="&nbsp;Login&nbsp;" />
        &nbsp;<small><a href="register.html">Register Now</a></small>
    </div>

	</form>

	<p class="filler"></p>
	
	<span class="newsHeading">Contact</span>
	<img border="0" src="images/misc/contact.gif" alt="contact" />
	<span class="newsHeading">Newsletter</span>	
	<p class="newsSummary">
		Subscribe to our newsletter and keep yourself informed about updates and new releases of the GIANTS engine. Register <a href="register.html">here</a>.
	</p>
	
	
	<p class="filler"></p>
    <p><img src="images/giantsLogo01.png" alt="GIANTS Logo" /></p>
</div>
</div>



    </div>
    <!-- ##### Footer ##### -->
    <div id="footer">
      &copy; 2010 <a target="_NEW" href="http://www.giants-software.com" title="GIANTS Software GmbH">GIANTS Software GmbH</a>, All Rights Reserved.
    </div>
  </body>
</html>

	